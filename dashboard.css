/* dashboard.css */

@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap');

/* General Body and HTML Reset */
body, html {
    margin: 0;
    padding: 0;
    font-family: 'Roboto', sans-serif;
    background-color: #f4f7f6; /* Light grey background for content areas */
    color: #333;
    line-height: 1.6;
    height: 100vh; /* Ensures 100% viewport height */
    overflow: hidden; /* Prevent body scroll, sidebar handles its own */
    transition: opacity 0.5s ease-in-out; /* Smooth transition for dashboard load */
    opacity: 1; /* Initial state for transition, controlled by JS */
}

/* --- Login Page Styles (Included for reference, actual loginPage.css should handle these) --- */
/* These styles are kept here as a reference to the desired "vibe" */
.login-container {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%); /* Login page gradient */
}

.login-box {
    background-color: #ffffff;
    padding: 40px;
    border-radius: 10px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    text-align: center;
    width: 100%;
    max-width: 400px;
    box-sizing: border-box; /* Include padding in width */
    animation: fadeIn 1s ease-out; /* Fade in animation for the box */
}

.login-box h2 {
    color: #333;
    margin-bottom: 30px;
    font-weight: 700;
}

.input-group {
    margin-bottom: 20px;
    text-align: left;
}

.input-group label {
    display: block;
    margin-bottom: 8px;
    color: #555;
    font-weight: 500;
}

.input-group input[type="text"],
.input-group input[type="password"] {
    width: calc(100% - 20px); /* Adjust for padding */
    padding: 12px 10px;
    border: 1px solid #ddd;
    border-radius: 5px;
    font-size: 1rem;
    box-sizing: border-box;
    transition: border-color 0.3s ease, box-shadow 0.3s ease;
}

.input-group input[type="text"]:focus,
.input-group input[type="password"]:focus {
    border-color: #2575fc; /* Primary blue focus */
    box-shadow: 0 0 8px rgba(37, 117, 252, 0.2);
    outline: none;
}

.login-button {
    background-color: #4CAF50; /* Green from login page */
    color: white;
    padding: 15px 30px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 1.1rem;
    font-weight: 600;
    transition: background-color 0.3s ease, transform 0.2s ease;
    width: 100%;
    box-sizing: border-box;
}

.login-button:hover {
    background-color: #45a049; /* Darker green on hover */
    transform: translateY(-2px);
}

.message {
    font-weight: bold;
    margin-top: 20px;
    padding: 10px;
    border-radius: 5px;
    text-align: center;
    opacity: 0;
    transition: opacity 0.5s ease-in-out;
    background-color: #f0f0f0;
    color: #333;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    width: calc(100% - 20px);
    box-sizing: border-box;
    margin-left: auto;
    margin-right: auto;
}

.message.success {
    background-color: #4CAF50; /* Green */
    color: white;
}

.message.error {
    background-color: #f44336; /* Red */
    color: white;
}


/* --- Dashboard Layout --- */
.dashboard-container {
    display: flex;
    height: 100vh; /* Ensures 100% viewport height */
}

/* Sidebar */
.sidebar {
    width: 250px;
    background: linear-gradient(180deg, #2F1857 0%, #1A237E 100%); /* Deep indigo/purple gradient */
    color: white;
    padding: 20px;
    box-shadow: 2px 0 10px rgba(0, 0, 0, 0.2); /* More pronounced shadow */
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    position: fixed; /* Keep sidebar fixed on screen */
    height: 100%; /* Take full height */
    overflow-y: auto; /* Enable scrolling for long content in sidebar */
    z-index: 1000; /* Ensure sidebar is above other content */
    /* Transition for sliding effect when opened/closed on mobile */
    transition: transform 0.3s ease-in-out;
}

.sidebar .logo {
    text-align: center;
    margin-bottom: 30px;
    padding-bottom: 20px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.15); /* Slightly stronger separator */
}

.sidebar .logo h3 {
    margin: 0;
    font-size: 1.9rem;
    font-weight: 700;
    color: #ffffff; /* Pure white for logo */
}

.sidebar nav ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

.sidebar nav ul li {
    margin-bottom: 10px;
}

.sidebar nav ul li a {
    color: #fff; /* White text on gradient */
    text-decoration: none;
    padding: 12px 15px;
    display: block; /* Make the whole area clickable */
    border-radius: 8px;
    transition: transform 0.2s ease, box-shadow 0.3s ease;
    font-weight: 600;
    background: linear-gradient(135deg, #2575fc 0%, #6a11cb 100%);
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
}

.sidebar nav ul li a:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
}

.sidebar nav ul li a.active {
    outline: 2px solid rgba(255, 255, 255, 0.4);
}

.sidebar-footer {
    margin-top: auto;
    padding-top: 35px; /* Increased padding-top for more space */
    padding-bottom: 25px; /* Increased padding-bottom for more space */
    border-top: 1px solid rgba(255, 255, 255, 0.15);
    text-align: center;
}

.sidebar-footer .logout-btn {
    border-radius: 8px;
    text-decoration: none;
    transition: transform 0.2s ease, box-shadow 0.3s ease;
    display: inline-block;
    font-weight: 600;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
}

.sidebar-footer .logout-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
}

/* Main Content Area */
.main-content {
    margin-left: 250px; /* Offset for the fixed sidebar */
    flex-grow: 1;
    padding: 30px; /* Increased padding */
    background-color: #f8f9fa; /* Very light off-white background */
    overflow-y: auto;
    min-height: 100vh; /* Ensures it can expand vertically if content exceeds one screen height */
}

.main-header {
    background-color: #ffffff;
    padding: 25px 30px; /* Increased padding */
    border-radius: 10px; /* Slightly more rounded corners */
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08); /* Softer, more diffuse shadow */
    margin-bottom: 30px; /* Increased margin */
    display: flex; /* Use flex to align hamburger and title */
    align-items: center;
    justify-content: space-between; /* Space between hamburger/title */
    position: relative; /* For hamburger button positioning */
}

.main-header h1 {
    margin: 0;
    color: #333;
    font-size: 2rem; /* Larger heading */
    font-weight: 700;
    flex-grow: 1; /* Allow title to take available space */
    text-align: center; /* Center the title by default */
}

/* Hamburger Button Styling */
.hamburger-btn {
    background: none;
    border: none;
    font-size: 1.8rem; /* Size of the icon */
    color: #2F1857; /* Matches sidebar logo color */
    cursor: pointer;
    padding: 5px 10px;
    display: none; /* Hidden by default on large screens */
    z-index: 100; /* Ensure it's above other elements if positioned absolutely */
    transition: color 0.2s ease;
    line-height: 1; /* Align icon vertically */
}

.hamburger-btn:hover {
    color: #2575fc; /* Primary blue on hover */
}


/* Dashboard Content Sections (shared styles) */
.dashboard-content-section {
    background-color: #ffffff;
    padding: 30px; /* Increased padding */
    border-radius: 10px; /* Consistent rounded corners */
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08); /* Consistent shadow */
    margin-bottom: 30px;
    display: none; /* Hidden by default, shown by JS */
}

.dashboard-content-section.active {
    display: block;
    animation: fadeIn 0.5s ease-out; /* Fade-in effect */
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

.dashboard-content-section h2 {
    color: #2F1857; /* Deep indigo for section headings */
    margin-top: 0;
    margin-bottom: 25px; /* Increased margin */
    border-bottom: 2px solid #eee; /* Slightly thicker separator */
    padding-bottom: 15px; /* Increased padding */
    font-size: 2.2rem; /* Larger heading */
    font-weight: 700;
}

/* Cards (general style for content blocks within sections) */
.card {
    background-color: #ffffff;
    padding: 25px; /* Consistent padding */
    border-radius: 10px; /* Consistent rounded corners */
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08); /* Consistent shadow */
    margin-bottom: 25px;
    transition: transform 0.2s ease; /* Added hover effect */
}

.card:hover {
    transform: translateY(-5px); /* Lift effect on hover */
}

.card h3 {
    color: #333;
    margin-top: 0;
    margin-bottom: 20px;
    font-size: 1.7rem; /* Larger heading */
    font-weight: 600;
}

/* Dashboard Overview Specifics */
.stats-grid, .quick-actions {
    display: flex;
    gap: 25px; /* Increased gap */
    margin-top: 25px;
    flex-wrap: wrap;
}

/* Stat Cards */
.stat-card {
    flex: 1;
    min-width: 250px; /* Slightly larger min-width */
    text-align: center;
    padding: 30px; /* Increased padding */
    border-radius: 10px; /* Consistent rounded corners */
    border-left: 6px solid; /* Thicker accent border */
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.stat-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.12);
}

/* Specific colors for stat cards */
.stat-card.students {
    background-color: #e8f5e9; /* Light green */
    border-left-color: #4CAF50; /* Green accent */
}

.stat-card.absences {
    background-color: #ffebee; /* Light red */
    border-left-color: #dc3545; /* Red accent */
}

.stat-card.assignments {
    background-color: #fff3e0; /* Light orange */
    border-left-color: #ffc107; /* Orange accent */
}

.stat-card p {
    margin: 0;
    font-size: 1.2rem;
    color: #555;
}

.stat-card .count {
    font-size: 3.5rem; /* Larger count */
    font-weight: 800; /* Bolder */
    color: #333;
    margin-top: 15px; /* Increased margin */
}

/* --- General Button Styling (used across dashboard) --- */
.button, .action-button, .submit-button, .cancel-button, .edit-button, .delete-button {
    padding: 12px 25px; /* Standard padding for all buttons */
    border: none;
    border-radius: 8px; /* More rounded buttons */
    cursor: pointer;
    font-size: 1.05rem;
    font-weight: 600;
    transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
    margin-top: 15px; /* Standard spacing above buttons */
    margin-right: 15px; /* Spacing between buttons */
    display: inline-block; /* Allows side-by-side layout */
    text-decoration: none; /* Ensure no underline on anchor-buttons */
    text-align: center;
    box-sizing: border-box; /* Crucial for consistent sizing */
    color: #fff;
}

.button:last-child,
.action-button:last-child,
.submit-button:last-child,
.cancel-button:last-child {
    margin-right: 0;
}

.button:hover, .action-button:hover, .submit-button:hover, .cancel-button:hover, .edit-button:hover, .delete-button:hover {
    transform: translateY(-3px); /* Consistent lift on hover */
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15); /* More pronounced shadow on hover */
}

/* Primary Action Buttons (Quick Actions, Save, Load, etc.) */
.action-button, .submit-button, .primary-button, .button {
    background: linear-gradient(135deg, #2575fc 0%, #6a11cb 100%); /* Blue-to-purple gradient */
    color: #fff;
    border: none; /* Ensure no border interferes with gradient */
}

.action-button:hover, .submit-button:hover, .primary-button:hover {
    background: linear-gradient(135deg, #1a5ac9 0%, #5a0ebf 100%); /* Slightly darker gradient on hover */
}

/* Secondary Action Buttons (e.g., Cancel, Clear Form, Change Password) */
.cancel-button, .secondary-button {
    background: linear-gradient(135deg, #2575fc 0%, #6a11cb 100%); /* Match primary gradient */
    color: #fff;
}

.cancel-button:hover, .secondary-button:hover {
    background-color: #5a6268; /* Darker grey on hover */
}

/* Specific button colors for student table actions */
.edit-button {
    background: linear-gradient(135deg, #2575fc 0%, #6a11cb 100%);
    color: #fff;
    padding: 10px 18px; /* Slightly smaller padding for table buttons */
    font-size: 0.95rem;
    margin-right: 8px; /* Smaller margin */
}
.edit-button:hover {
    filter: brightness(0.95);
}

.delete-button, .logout-btn {
    background: linear-gradient(135deg, #ff4d4d 0%, #c82333 100%); /* Red gradient */
    color: #fff;
    padding: 10px 18px;
    font-size: 0.95rem;
}
.delete-button:hover, .logout-btn:hover {
    filter: brightness(0.95);
}


/* Form Styles (general across sections) */
.form-group {
    margin-bottom: 20px; /* Increased spacing */
}

.form-group label {
    display: block;
    margin-bottom: 8px;
    font-weight: 500;
    color: #444;
}

.form-group input[type="text"],
.form-group input[type="number"],
.form-group input[type="tel"],
.form-group input[type="date"],
.form-group select,
.form-group textarea {
    width: 100%;
    padding: 12px 15px;
    border: 1px solid #ccc;
    border-radius: 8px; /* Consistent rounded corners */
    box-sizing: border-box;
    font-size: 1rem;
    transition: border-color 0.3s ease, box-shadow 0.3s ease;
    background-color: #fcfcfc; /* Slightly off-white input background */
}

.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
    border-color: #2575fc; /* Primary blue focus */
    outline: none;
    box-shadow: 0 0 0 4px rgba(37, 117, 252, 0.25); /* Larger, softer focus glow */
}

/* Custom date input styling for calendar icon */
.input-date-custom::-webkit-inner-spin-button,
.input-date-custom::-webkit-calendar-picker-indicator {
    opacity: 1;
    display: block;
    background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="%232575fc"><path d="M19 4h-3V2h-2v2h-4V2H8v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11zM12 11h-2v2H9v-2H7v2h2v2h1v-2h2v-2h-1z"/></svg>') no-repeat center center;
    background-size: 24px; /* Larger icon */
    width: 28px; /* Larger click area */
    height: 28px;
    cursor: pointer;
    /* Filter to match the primary blue color */
    filter: invert(39%) sepia(87%) saturate(2000%) hue-rotate(190deg) brightness(90%) contrast(100%);
}


/* Tables (general styling) */
.table-responsive {
    overflow-x: auto; /* Enables horizontal scrolling for tables if content overflows */
    margin-top: 25px; /* Increased margin */
}

table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
    background-color: #ffffff; /* White table background */
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08); /* Consistent shadow */
    border-radius: 10px; /* Consistent rounded corners */
    overflow: hidden; /* Ensures border-radius applies to table content */
}

table thead {
    background-color: #eff3f9; /* Lighter blue-grey for header */
    color: #333;
}

table th, table td {
    padding: 15px 20px; /* Increased padding */
    text-align: left;
    border-bottom: 1px solid #e0e0e0; /* Softer border */
    color: #333;
}

table th {
    font-weight: 600;
    font-size: 1rem;
    text-transform: uppercase;
}

table tr:hover {
    background-color: #fcfdfe; /* Very subtle hover effect */
}

/* Specific table actions column */
table td.actions {
    white-space: nowrap;
}


/* Attendance Management Specifics */
.attendance-controls, .grades-controls, .add-assignment-controls {
    display: flex;
    gap: 20px; /* Consistent gap */
    margin-bottom: 25px; /* Increased margin */
    flex-wrap: wrap;
    align-items: flex-end;
}

.attendance-controls .form-group, .grades-controls .form-group, .add-assignment-controls .form-group {
    flex: 1;
    min-width: 200px; /* Adjusted min-width */
    margin-bottom: 0;
}

.attendance-controls .form-group label, .grades-controls .form-group label, .add-assignment-controls .form-group label {
    margin-bottom: 8px; /* Consistent label spacing */
}

.attendance-controls input[type="date"],
.attendance-controls select,
.grades-controls select,
.add-assignment-controls select,
.add-assignment-controls input[type="text"],
.add-assignment-controls input[type="number"] {
    padding: 10px 12px; /* Slightly more padding */
    border-radius: 8px; /* Consistent rounded corners */
}

.attendance-controls button,
.grades-controls button,
.add-assignment-controls button {
    height: 45px; /* Match input height for better alignment */
    padding: 0 20px; /* Adjusted padding */
    margin-top: 0; /* Align with inputs */
    margin-right: 0; /* Removed extra margin if it was stacking */
}

#currentAttendanceDateDisplay, #currentGradesStudentName {
    font-size: 1.3rem; /* Larger text */
    font-weight: bold;
    color: #2575fc; /* Primary blue */
    margin-top: 15px;
    display: block;
}


/* Grades Management Specifics */
#gradesTableContainer {
    display: none;
}

#gradesTable input[type="number"] {
    width: 90px; /* Slightly larger input for scores */
    padding: 8px;
    border-radius: 4px;
}

.grade-status {
    padding: 6px 12px; /* Adjusted padding */
    border-radius: 6px; /* Slightly more rounded */
    font-weight: 700; /* Bolder */
    text-transform: capitalize;
}

.grade-status.graded {
    background-color: #d4edda; /* Lighter green */
    color: #28a745; /* Darker green */
}

.grade-status.pending {
    background-color: #fff3cd; /* Lighter orange */
    color: #ffc107; /* Darker orange */
}


/* Announcements Specifics */
.add-announcement-form .form-group {
    margin-bottom: 20px;
}

.add-announcement-form textarea {
    min-height: 120px; /* Taller textarea */
    border-radius: 8px;
}

.announcements-list-container {
    margin-top: 25px;
}

.announcement-item {
    border: 1px solid #e0e0e0;
    border-radius: 10px; /* Consistent rounded corners */
    padding: 20px;
    margin-bottom: 20px;
    background-color: #fefefe;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05); /* Softer shadow */
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.announcement-item:hover {
    transform: translateY(-3px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.announcement-item h4 {
    margin-top: 0;
    margin-bottom: 10px;
    color: #6a11cb; /* Primary purple from login */
    font-size: 1.4rem;
    font-weight: 600;
}

.announcement-item p {
    margin-bottom: 12px;
    color: #444;
    line-height: 1.7;
}

.announcement-item small {
    display: block;
    text-align: right;
    color: #777;
    font-size: 0.9rem;
}


/* Reports & Analytics Specifics */
.reports-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); /* Adjusted min-width */
    gap: 25px; /* Consistent gap */
    margin-top: 25px;
}

.report-card {
    background-color: #ffffff;
    padding: 30px; /* Increased padding */
    border-radius: 10px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08); /* Consistent shadow */
}

.report-card h3 {
    color: #333;
    margin-top: 0;
    margin-bottom: 20px;
    border-bottom: 1px solid #eee;
    padding-bottom: 15px;
    font-size: 1.8rem;
    font-weight: 600;
}

.report-content p, .report-content ul, .report-content ol {
    margin-bottom: 10px;
    color: #666;
    line-height: 1.6;
}

.report-content ul, .report-content ol {
    padding-left: 25px;
}

.report-content li {
    margin-bottom: 6px;
}


/* Settings Specifics */
.settings-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 25px;
    margin-top: 25px;
}

.setting-card {
    background-color: #ffffff;
    padding: 30px;
    border-radius: 10px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
}

.setting-card h3 {
    color: #333;
    margin-top: 0;
    margin-bottom: 20px;
    border-bottom: 1px solid #eee;
    padding-bottom: 15px;
    font-size: 1.8rem;
    font-weight: 600;
}

.setting-content label {
    display: block;
    margin-bottom: 10px;
    font-weight: 500;
    color: #555;
}

.setting-content select {
    width: 100%;
    padding: 10px;
    margin-bottom: 20px;
    border: 1px solid #ddd;
    border-radius: 8px;
    box-sizing: border-box;
    font-size: 1rem;
}

.setting-content p {
    margin-bottom: 10px;
    color: #666;
}

/* Toggle Switch Styles */
.switch {
    position: relative;
    display: flex;
    align-items: center;
    width: 100%;
    margin-top: 15px;
    margin-bottom: 20px;
    cursor: pointer;
    font-size: 1rem; /* Adjust font size for label */
    font-weight: 500;
    color: #555;
}

/* Hide default HTML checkbox */
.switch input {
    opacity: 0;
    width: 0;
    height: 0;
}

/* The slider (the actual toggle track) */
.slider {
    position: relative;
    flex-shrink: 0;
    width: 55px; /* Slightly larger toggle */
    height: 30px;
    background-color: #ccc;
    transition: background-color .4s;
    border-radius: 30px;
    margin-left: auto; /* Push slider to the right */
}

.slider:before {
    position: absolute;
    content: "";
    height: 22px; /* Size of the circle */
    width: 22px;
    left: 4px;
    bottom: 4px;
    background-color: white;
    transition: transform .4s;
    border-radius: 50%;
}

input:checked + .slider {
    background-color: #2575fc; /* Primary blue when checked */
}

input:focus + .slider {
    box-shadow: 0 0 1px #2575fc;
}

input:checked + .slider:before {
    transform: translateX(25px); /* Move circle to the right */
}


/* --- Responsive Adjustments --- */

/* Desktop to Tablet transition */
@media (max-width: 992px) {
    .sidebar {
        width: 180px; /* Slightly narrower sidebar */
        padding: 15px;
    }

    .main-content {
        margin-left: 180px;
        padding: 20px;
    }

    .main-header {
        padding: 20px;
        margin-bottom: 20px;
    }

    .main-header h1 {
        font-size: 1.5rem;
    }

    .dashboard-content-section {
        padding: 20px;
        margin-bottom: 20px;
    }

    .dashboard-content-section h2 {
        font-size: 1.8rem;
        margin-bottom: 15px;
        padding-bottom: 10px;
    }

    .card {
        padding: 20px;
        margin-bottom: 20px;
    }

    .card h3 {
        font-size: 1.5rem;
        margin-bottom: 15px;
    }

    .stats-grid, .quick-actions {
        gap: 15px;
    }

    .stat-card {
        min-width: 200px;
        padding: 20px;
    }

    .stat-card .count {
        font-size: 2.8rem;
    }

    .quick-actions .button {
        min-width: 150px;
        font-size: 1rem;
        padding: 12px 8px;
    }

    .button, .action-button, .submit-button, .cancel-button, .primary-button, .secondary-button {
        padding: 10px 20px;
        font-size: 0.95rem;
        margin-right: 10px;
    }

    .edit-button, .delete-button {
        padding: 8px 12px;
        font-size: 0.85rem;
    }

    .form-group {
        margin-bottom: 15px;
    }

    .form-group input, .form-group select, .form-group textarea {
        padding: 10px 12px;
    }

    table th, table td {
        padding: 10px 12px;
        font-size: 0.95rem;
    }

    .attendance-controls, .grades-controls, .add-assignment-controls {
        flex-direction: column;
        align-items: stretch;
        gap: 10px;
    }

    .attendance-controls .form-group, .grades-controls .form-group, .add-assignment-controls .form-group {
        min-width: unset;
        width: 100%;
    }

    .attendance-controls button, .grades-controls button, .add-assignment-controls button {
        width: 100%;
        margin-top: 5px;
        margin-right: 0;
        height: auto;
        padding: 10px;
    }

    .reports-grid, .settings-grid {
        grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
        gap: 15px;
    }

    .setting-card .button {
        display: block;
        width: 100%;
        margin-right: 0;
        margin-bottom: 10px;
    }

    .switch {
        font-size: 0.95rem;
    }
}

/* Tablet to Mobile transition (Hamburger Menu Behavior) */
@media (max-width: 768px) {
    .sidebar {
        /* Sidebar becomes an off-canvas overlay */
        width: 250px; /* Keep a fixed width for the overlay */
        transform: translateX(-100%); /* Start off-screen to the left */
        position: fixed;
        height: 100vh; /* Full viewport height */
        top: 0;
        left: 0;
        box-shadow: 4px 0 15px rgba(0, 0, 0, 0.3); /* More prominent shadow when open */
        border-radius: 0;
        z-index: 2000; /* Ensure it's above everything else */
        /* Transition already defined on .sidebar */
    }

    /* Class added by JS when sidebar is open */
    .sidebar.open {
        transform: translateX(0); /* Slide into view */
    }

    .main-content {
        margin-left: 0; /* No offset needed for main content on mobile */
        padding: 10px; /* Adjusted padding for smaller screens */
        /* Margin-top to account for fixed header below */
        margin-top: 80px; /* This value will be based on header height */
    }

    .main-header {
        position: fixed; /* Header becomes fixed at the top */
        top: 0;
        left: 0;
        width: 100%; /* Full width */
        z-index: 1000; /* Ensure header is above main content */
        border-radius: 0; /* No border-radius on fixed top bar */
        justify-content: flex-start; /* Align items to the start */
        padding: 15px 20px; /* Adjusted padding for header */
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08); /* Header shadow */
    }

    .main-header h1 {
        text-align: left; /* Align title to left, next to hamburger */
        margin-left: 15px; /* Spacing between hamburger and title */
        font-size: 1.6rem; /* Adjust title size */
    }

    .hamburger-btn {
        display: block; /* Show hamburger button on mobile */
        order: -1; /* Place button first in flex order */
    }

    /* Sidebar Overlay (appears when sidebar is open) */
    .sidebar-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.6); /* Semi-transparent black overlay */
        z-index: 1500; /* Between sidebar and main content */
        display: none; /* Hidden by default */
        transition: opacity 0.3s ease-in-out;
        opacity: 0; /* Start hidden */
    }
    .sidebar-overlay.visible {
        display: block; /* Show when active */
        opacity: 1; /* Fade in */
    }


    /* Elements inside sidebar when it's an overlay */
    .sidebar .logo {
        display: block; /* Ensure logo is visible in overlay */
        width: auto; /* Auto width */
        margin-bottom: 20px;
        padding-bottom: 15px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .sidebar nav ul {
        flex-direction: column; /* Stack nav items vertically */
        align-items: flex-start; /* Align items to the start */
        width: 100%;
        margin-bottom: 20px;
    }

    .sidebar nav ul li {
        width: 100%; /* Full width for each nav item */
        margin: 0; /* Remove horizontal margin */
        margin-bottom: 8px; /* Vertical spacing */
    }

    .sidebar nav ul li a {
        padding: 12px 20px; /* Adequate padding for clickable area */
        font-size: 1rem;
        border-left: 5px solid transparent; /* Retain accent border for active state */
        border-bottom: none; /* Remove bottom border for active state */
    }

    .sidebar nav ul li a.active {
        background-color: rgba(255, 255, 255, 0.2); /* Active background */
        border-left-color: #2575fc; /* Primary blue accent */
    }

    .sidebar-footer {
        display: block; /* Always show logout button in mobile sidebar */
        width: 100%;
        padding-top: 20px; /* Adjusted padding for logout button */
        padding-bottom: 20px;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
    }

    /* General mobile section/card adjustments */
    .dashboard-content-section {
        padding: 15px;
        margin-bottom: 15px;
    }

    .dashboard-content-section h2 {
        font-size: 1.6rem;
        margin-bottom: 15px;
        padding-bottom: 8px;
    }

    .card {
        padding: 15px;
        margin-bottom: 15px;
    }

    .card h3 {
        font-size: 1.3rem;
        margin-bottom: 10px;
    }

    .stats-grid, .quick-actions {
        flex-direction: column;
        align-items: stretch; /* Stretch to full width */
        gap: 10px;
    }

    .stat-card, .quick-actions .button {
        width: 100%;
        min-width: unset;
        margin-right: 0; /* No horizontal margin */
        padding: 20px; /* Adjust padding for mobile cards */
    }

    .stat-card .count {
        font-size: 2.5rem;
    }

    .quick-actions .button {
        padding: 12px 10px;
        font-size: 1rem;
    }

    /* Table Responsiveness (card-like display) - CRITICAL FIXES FOR STUDENT MANAGEMENT */
    .table-responsive {
        overflow-x: auto; /* Ensures horizontal scrolling for tables if needed */
        -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */
    }

    table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 15px;
        background-color: #ffffff;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        border-radius: 8px;
        overflow: hidden; /* Ensures inner content stays within border-radius */
    }

    table thead {
        display: none; /* Hide table headers on mobile */
    }

    table, tbody, tr, td {
        display: block; /* Stack table elements vertically */
        width: 100%; /* Ensure each stacked element takes full width */
    }

    table tr {
        border: 1px solid #ddd;
        margin-bottom: 15px;
        border-radius: 8px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        overflow: hidden; /* Crucial for containing inner flex items within rounded corners */
        padding: 0; /* Reset row padding for precise cell control */
    }

    table td {
        border: none;
        border-bottom: 1px solid #eee;
        position: relative;
        padding: 12px 15px; /* Adjusted padding for better fit */
        text-align: right; /* Content aligns right by default */
        min-height: 45px; /* Ensure a minimum height for cells to prevent squishing */
        display: flex; /* Use flexbox for label and content alignment */
        align-items: center; /* Vertically align items */
        justify-content: flex-end; /* Align content to the right */
        box-sizing: border-box; /* Crucial for padding calculation */
    }

    table td:last-child {
        border-bottom: 0; /* No border for the last cell */
        justify-content: center; /* Center action buttons */
        padding-left: 15px; /* Adjust padding for action buttons row */
        padding-right: 15px;
        flex-wrap: wrap; /* Allow buttons to wrap if too many */
    }

    table td::before {
        content: attr(data-label);
        position: absolute; /* Position label absolutely */
        left: 15px;
        width: 40%; /* Stronger fixed width for the label to prevent overlap */
        padding-right: 10px;
        white-space: normal; /* Allow label to wrap if needed */
        text-align: left;
        font-weight: bold;
        color: #555;
        box-sizing: border-box;
        flex-shrink: 0; /* Prevent label from shrinking */
    }

    /* Adjust specific elements in responsive mode */
    #attendanceTable td:nth-child(2) { /* Status column (radio buttons) */
        text-align: left; /* Align radio buttons left */
        justify-content: flex-start; /* Align flex items to start */
    }
    #attendanceTable label {
        margin-right: 8px; /* Slightly more margin */
        display: inline-flex; /* Use inline-flex for labels to align radio/checkbox */
        align-items: center;
        white-space: nowrap; /* Keep label text and radio on one line */
    }
    #attendanceTable input[type="radio"] {
        margin-right: 3px;
    }


    .settings-grid {
        grid-template-columns: 1fr; /* Stack settings cards */
    }
}

/* Very Small Screens (e.g., small phones) */
@media (max-width: 480px) {
    .login-box {
        padding: 20px;
    }
    .login-box h2 {
        font-size: 1.4rem;
        margin-bottom: 20px;
    }
    .login-button {
        padding: 10px 15px;
        font-size: 1rem;
    }

    .sidebar {
        width: 200px; /* Slightly narrower sidebar overlay for very small screens */
    }
    .sidebar.open {
        transform: translateX(0); /* Ensure it slides to 0 */
    }
    .sidebar .logo h3 {
        font-size: 1.5rem; /* Smaller logo text */
    }
    .sidebar nav ul li a {
        font-size: 0.9rem; /* Smaller nav links */
        padding: 10px 15px;
    }
    .sidebar-footer .logout-btn {
        padding: 8px 15px;
        font-size: 0.9rem;
    }

    .main-content {
        padding: 10px;
        margin-top: 70px; /* Adjusted margin-top for potentially smaller header */
    }

    .main-header {
        padding: 10px 15px; /* Smaller header padding */
    }
    .main-header h1 {
        font-size: 1.2rem; /* Smaller header title */
        margin-left: 10px; /* Adjusted spacing */
    }
    .hamburger-btn {
        font-size: 1.5rem; /* Smaller hamburger icon */
    }

    .dashboard-content-section {
        padding: 15px;
    }
    .dashboard-content-section h2 {
        font-size: 1.4rem;
    }

    .button, .action-button, .submit-button, .cancel-button, .primary-button, .secondary-button {
        padding: 8px 15px;
        font-size: 0.9rem;
    }

    .edit-button, .delete-button {
        padding: 6px 10px;
        font-size: 0.8rem;
    }

    .form-group input, .form-group select, .form-group textarea {
        padding: 10px;
        font-size: 0.9rem;
    }

    table td {
        padding: 10px 10px; /* Reduced table cell padding */
        min-height: 40px; /* Slightly smaller min-height */
    }
    table td::before {
        left: 10px;
        width: 45%; /* Adjust label width for very small screens */
    }

    /* Adjust toggle switch for very small screens */
    .switch .slider {
        width: 40px;
        height: 22px;
    }
    .slider:before {
        height: 16px;
        width: 16px;
        left: 3px;
        bottom: 3px;
    }
    input:checked + .slider:before {
        transform: translateX(18px);
    }
    .switch label {
        font-size: 0.9rem;
    }
}

/* Ensure chart canvases in reports tab are visible and responsive */
#reports-analytics .chart-card {
  min-height: 320px;
  height: 340px;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: stretch;
}
#reports-analytics .chart-card canvas {
  min-height: 260px;
  height: 260px !important;
  width: 100% !important;
  max-width: 100%;
  display: block;
  margin: 0 auto;
}

/* Dark Mode Toggle Button */
.dark-mode-toggle {
    background: linear-gradient(45deg, #FFD700, #FFA500); /* Yellow to Orange gradient */
    border: none;
    border-radius: 25px; /* Rounded button */
    width: 50px; /* Fixed width */
    height: 25px; /* Fixed height */
    cursor: pointer;
    position: relative; /* For positioning icons */
    overflow: hidden; /* Hide parts of icons that go out of bounds */
    transition: all 0.3s ease; /* Smooth transition for hover and state changes */
    display: flex;
    align-items: center;
    justify-content: center;
    margin-left: 20px; /* Spacing from header title */
}

.dark-mode-toggle:hover {
    transform: scale(1.05); /* Slight enlargement on hover */
}

/* Icons inside the toggle */
.dark-mode-toggle .sun-icon,
.dark-mode-toggle .moon-icon {
    position: absolute; /* Position icons absolutely within the button */
    font-size: 14px; /* Size of the icon */
    color: #fff; /* White color for icons */
    transition: all 0.3s ease; /* Smooth transition for opacity and transform */
}

.dark-mode-toggle .sun-icon {
    opacity: 1; /* Sun is visible by default */
    transform: translateY(0); /* Sun is centered vertically */
}

.dark-mode-toggle .moon-icon {
    opacity: 0; /* Moon is hidden by default */
    transform: translateY(20px); /* Moon is pushed down, out of view */
}

/* Dark mode styles applied to the body */
body.dark-mode {
    background-color: #1a1a1a; /* Dark background */
    color: #e0e0e0; /* Light text */
}

/* Dark mode specific styles for header */
body.dark-mode .header {
    background-color: #2d2d2d; /* Darker header background */
    border-bottom-color: #404040; /* Darker border */
    box-shadow: 0 2px 4px rgba(0,0,0,0.3); /* Stronger shadow for dark mode */
}

body.dark-mode .header h1 {
    color: #e0e0e0; /* Light heading text */
}

/* Dark mode styles for the toggle button itself */
body.dark-mode .dark-mode-toggle {
    background: linear-gradient(45deg, #4A4A4A, #2D2D2D); /* Darker gradient for toggle */
}

/* Hiding and showing icons in dark mode */
body.dark-mode .dark-mode-toggle .sun-icon {
    opacity: 0; /* Hide sun */
    transform: translateY(-20px); /* Push sun up, out of view */
}

body.dark-mode .dark-mode-toggle .moon-icon {
    opacity: 1; /* Show moon */
    transform: translateY(0); /* Center moon vertically */
}

/* Dark mode styles for the sidebar */
body.dark-mode .sidebar {
    background-color: #2d2d2d; /* Dark sidebar background */
    border-right-color: #404040; /* Dark border */
}

body.dark-mode .sidebar ul li a {
    color: #fff;
    background: linear-gradient(135deg, #1d4ed8 0%, #5b21b6 100%); /* Dark mode blue gradient */
}

body.dark-mode .sidebar ul li a:hover {
    filter: brightness(0.95);
}

body.dark-mode .logout-btn, body.dark-mode .delete-button {
    background: linear-gradient(135deg, #ef4444 0%, #991b1b 100%);
}

/* Dark mode styles for the main content area */
body.dark-mode .main-content {
    background-color: #1a1a1a; /* Dark main content background */
}

/* Dark mode styles for dashboard sections */
body.dark-mode .dashboard-content-section {
    background-color: #2d2d2d; /* Dark section background */
    border-color: #404040; /* Dark section border */
}

body.dark-mode .dashboard-content-section h2 {
    color: #e0e0e0; /* Light section heading text */
}

/* Dark mode styles for form inputs */
body.dark-mode input,
body.dark-mode select,
body.dark-mode textarea {
    background-color: #404040; /* Dark input background */
    border-color: #555; /* Darker border */
    color: #e0e0e0; /* Light input text */
}

/* Dark mode styles for buttons */
body.dark-mode button {
    background-color: #404040; /* Dark button background */
    color: #e0e0e0; /* Light button text */
    border-color: #555; /* Darker border */
}

body.dark-mode button:hover {
    background-color: #555; /* Slightly lighter dark background on hover */
}

/* Dark mode styles for tables */
body.dark-mode table {
    background-color: #2d2d2d; /* Dark table background */
}

body.dark-mode table th {
    background-color: #404040; /* Dark table header background */
    color: #e0e0e0; /* Light table header text */
}

body.dark-mode table td {
    background-color: #2d2d2d; /* Dark table cell background */
    color: #e0e0e0; /* Light table cell text */
    border-color: #404040; /* Darker cell border */
}

/* Specific styles for dark mode dropdowns */
body.dark-mode select {
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="%23e0e0e0"><path d="M7 10l5 5 5-5z"/></svg>'); /* Light arrow for dropdown */
    border-color: #555;
}

/* Dark mode styles for the toggle switch */
body.dark-mode .switch .slider {
    background-color: #555; /* Darker slider track */
}

body.dark-mode input:checked + .slider {
    background-color: #007bff; /* Blue when toggled on in dark mode */
}

body.dark-mode .switch label {
    color: #e0e0e0; /* Light label text */
}

/* ==== FIX: Dashboard tabs layout and sidebar overlay coverage ==== */

/* Match current HTML structure */
.dashboard {
    display: flex;
    min-height: 100vh;
}

/* Header styles matching current HTML (header > .header-content + .burger) */
.header-content {
    background-color: #ffffff;
    padding: 20px 25px;
    border-radius: 10px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    justify-content: space-between;
}
.header-content h1 {
    margin: 0;
    color: #333;
    font-size: 1.8rem;
    font-weight: 700;
}
.burger {
    cursor: pointer;
    font-size: 1.8rem;
    color: #2F1857;
    user-select: none;
    display: none; /* shown on mobile */
    background: none;
    border: none;
    line-height: 1;
}
.burger:focus-visible {
    outline: 3px solid #2575fc;
    outline-offset: 2px;
}

/* Overview grid and chart containers so the Overview tab lays out correctly */
.overview-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 25px;
}
.chart-container {
    min-height: 320px;
    height: 360px;
    display: flex;
    align-items: stretch;
    justify-content: stretch;
}
.chart-container > canvas {
    width: 100%;
    height: 100%;
}

/* Sidebar overlay: ensure full-viewport coverage and correct stacking */
.sidebar-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(0, 0, 0, 0.6);
    z-index: 1500; /* Below sidebar (2000), above content */
    display: none; /* Will be shown when sidebar is open */
    opacity: 1; /* Visible when displayed */
}

/* Use :has to display overlay purely via CSS when sidebar is open (modern browsers) */
body:has(.sidebar.open) #sidebar-overlay {
    display: block;
}

/* Respect reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.001ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.001ms !important;
        scroll-behavior: auto !important;
    }
}

/* Global overflow handling: show scrollbars when content exceeds container */
.main-content,
.dashboard-content-section,
.card,
.table-container,
.overview-grid,
.reports-grid,
.settings-grid {
    overflow: auto; /* Adds vertical/horizontal scrollbar only when needed */
}

/* Explicit horizontal scroll for wide tables/forms */
.table-container {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
}

/* Utility class to force overflow behavior on any element */
.scroll-auto {
    overflow: auto !important;
}

/* Mobile adjustments */
@media (max-width: 768px) {
    .burger { display: block; }

    /* Fix header as top bar on mobile to prevent layout shift */
    header { position: sticky; top: 0; z-index: 1200; }
    .header-content { border-radius: 0; }

    /* Ensure main content has top spacing under sticky header */
    .main-content { margin-top: 80px; }

    /* Sidebar is overlay; ensure it starts exactly at the left edge */
    .sidebar {
        left: 0;
        box-sizing: border-box;
        will-change: transform;
    }
}